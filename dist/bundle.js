!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=document.getElementById("country");""===r.value&&(r.value=localStorage.getItem("inputValue"));const o=document.getElementById("country"),c=[{name:"Poland",code:"PL"},{name:"Germany",code:"DE"},{name:"France",code:"FR"},{name:"Spain",code:"ES"}];let i,u=[];const a=document.querySelector(".country_list"),l=()=>{a.innerHTML="",u=[]},s=()=>{for(let e=0;e<u.length;e++)a.innerHTML+=`<li class="country_item">${u[e]}</li>`;d()},d=()=>{document.querySelectorAll(".country_item").forEach(e=>e.addEventListener("click",function(){document.getElementById("country").value=e.innerHTML,l(),localStorage.setItem("inputValue",document.getElementById("country").value)}))};function m(){const e=this.parentNode;e.querySelector("p").innerHTML="";const t=e.querySelector("span").innerHTML;fetch(`https://en.wikipedia.org/w/api.php?action=query&format=json&origin=*&prop=extracts&exintro=&explaintext=&formatversion=2&titles=${t}`).then(function(e){return e.json()}).then(function(t){const n=E("div"),r=E("p");p(e,n,r),f(n,r),r.innerHTML="read less -",t.query.pages[0].invalid||t.query.pages[0].missing||""==t.query.pages[0].extract?n.innerHTML="No information about the city":n.innerHTML=t.query.pages[0].extract,r.addEventListener("click",y)})}o.addEventListener("keyup",()=>{l();let e=document.getElementById("country").value;if(e.length>0){for(let t=0;t<c.length;t++)-1!=c[t].name.toLowerCase().indexOf(e.toLowerCase())&&(u.push(c[t].name),i=c[t].code);s()}});const p=(e,t,n)=>{S(e,t),S(e,n)},f=(e,t)=>{e.classList.add("city_text"),t.classList.add("less")};function y(){const e=this.parentNode;let t=e.querySelector(".city_text"),n=e.querySelector(".less");e.querySelector("p").innerHTML="read more +",t.remove(),n.remove()}const v=document.querySelector(".fa-search");let g=!1;const L=(e,t,n,r,o,c)=>{const i=document.getElementById("cities_container");S(t,n),S(e,t),S(e,r),S(r,o),S(r,c),S(i,e)},h=(e,t,n)=>{e.classList.add("city_div"),t.classList.add("number"),n.classList.add("city_item")};function E(e){return document.createElement(e)}function S(e,t){return e.appendChild(t)}v.addEventListener("click",function(e){e.preventDefault();const t=`https://api.openaq.org/v1/latest?limit=10&country=${i}&parameter=pm25&order_by=measurements[0].value&sort=desc`;let n=document.getElementById("cities_container");g&&(document.querySelectorAll(".city_div").forEach(e=>n.removeChild(e)),g=!g);fetch(t).then(function(e){return e.json()}).then(function(e){return(n=e.results).map(function(e){const t=E("div"),n=E("div"),r=E("span"),o=E("div"),c=E("span"),i=E("p");L(t,n,r,o,c,i),h(t,n,o),r.innerHTML=`${e.measurements[0].value}`,c.innerHTML=`${e.city.replace("CCAA","").replace("Com. ","").replace("Warszawa","Warsaw")}`,i.innerHTML="read more +",document.querySelectorAll("p").forEach(function(e){e.addEventListener("click",m)})})}),g=!0}),n.d(t,"createEl",function(){return E}),n.d(t,"append",function(){return S})}]);